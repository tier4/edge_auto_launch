<launch>
  <arg name="input/pointcloud" default="/sensing/lidar/top/pointcloud_raw"/>
  <arg name="output/pointcloud" default="/sensing/lidar/top/random_downsample_filter/pointcloud"/>
  <arg name="sample_num" default="1500"/>
  <arg name="frame_id" default="lidar"/>

  <group>
    <!-- <node pkg="pointcloud_preprocessor" exec="random_downsample_filter_node" name="random_downsample_filter">
         <remap from="input" to="$(var input/pointcloud)"/>
         <remap from="output" to="$(var output/pointcloud)"/>

         <param name="sample_num" value="$(var sample_num)"/>
         <param name="input_frame" value="$(var frame_id)"/>
         <param name="output_frame" value="$(var frame_id)"/>
         </node> -->

    <!-- <load_composable_node target="nebura_at128_node"> -->
    <!--   <composable_node pkg="pointcloud_preprocessor" exec="pointcloud_preprocessor::RandomDownsampleFilterComponent" -->
    <!--                    name="random_downsample_filter"> -->
    <!--     <remap from="input" to="$(var input/pointcloud)"/> -->
    <!--     <remap from="output" to="$(var output/pointcloud)"/> -->

    <!--     <param name="sample_num" value="$(var sample_num)"/> -->
    <!--     <param name="input_frame" value="$(var frame_id)"/> -->
    <!--     <param name="output_frame" value="$(var frame_id)"/> -->
    <!--   </composable_node> -->
    <!-- </load_composable_node> -->

    <node pkg="pointcloud_preprocessor" exec="voxel_grid_downsample_filter_node" name="voxel_downsample_filter">
      <remap from="input" to="$(var input/pointcloud)"/>
      <remap from="output" to="$(var output/pointcloud)"/>

      <param name="voxel_size_x" value="0.3"/>
      <param name="voxel_size_y" value="0.3"/>
      <param name="voxel_size_z" value="0.1"/>
    </node>
  </group>
</launch>
